---
import Main from "@/layouts/Main.astro";
import DynamicIcon from "@/components/blocks/DynamicIcon";

const content = {
  title: "Our Experience",
  description: "Last 10 years of CHAMPS projects and activities.",
};

interface ExperienceItem {
  year: number;
  title: string;
  authors: string;
  location?: string;
  icon: string;
}

const experiences: ExperienceItem[] = [
  {
    year: 2015,
    title: "Changes in Doctors' Prescribing Behavior in Hospitals in 2015",
    authors: "Prof. Budi Hidayat, Hendratno, et al",
    icon: "FaPills",
  },
  {
    year: 2016,
    title: "Employee Job Satisfaction Survey 2016",
    authors: "Prof. Dr. Ede Surya Darmawan, Dr. Yetty Yulianti et al",
    location: "Harapan Kita Heart & Pulmonary Hospital",
    icon: "FaComments",
  },
  {
    year: 2016,
    title: "Preparation of a Feasibility Study",
    authors: "Prof. Dr. Ede Surya Darmawan, Prof. Amal C. Sjaaf et al",
    location: "Sooilo Keyen Hospital, South Sorong",
    icon: "FaChartBar",
  },
  {
    year: 2016,
    title: "Internal & External Customer Satisfaction Survey",
    authors: "Drg. Indah Rosana, et al",
    location: "Sawah Besar Hospital",
    icon: "IoHappy",
  },
  {
    year: 2016,
    title: "Health Development Strategic Plan Training",
    authors: "Prof. Dr. Ede Surya Darmawan, Prof. Dr. Adang Bachtiar, et al",
    location: "Palu Provincial Health Service",
    icon: "FaLightbulb",
  },
  {
    year: 2016,
    title:
      "Community Health Center Management Training for Community Health Centers",
    authors: "Prof. Dr. Ede Surya Darmawan, Drg. Indah Rosana et al",
    location: "Bogor District Health Department",
    icon: "FaHospital",
  },
  {
    year: 2016,
    title: "1st International Conference on Hospital Administration (ICHA)",
    authors: "Prof. Dr. Ede Surya Darmawan, et al",
    icon: "FaChalkboardTeacher",
  },
  {
    year: 2016,
    title: "Evaluation of INA-CBG Classification CMG Case Study I",
    authors: "Budi Hidayat, Atik Nurwahyuni, et al",
    location: "Social Security Agency for Health",
    icon: "FaFolderOpen",
  },
  {
    year: 2016,
    title: "Maternal & Child Health Promotion Community Empowerment Programme",
    authors: "Prof. Dr. Ede Surya Darmawan, et al",
    location: "Cianjur District",
    icon: "FaBaby",
  },
  {
    year: 2016,
    title: "Feasibility Study of Hospital Development",
    authors: "Prof. Dr. Ede Surya Darmawan, et al",
    location: "Pupuk Kujang",
    icon: "FaHospitalUser",
  },
  {
    year: 2016,
    title: "Waste Bank Management Community Empowerment Programme",
    authors: "Prof. Dr. Dumlilah Ayuningtyas, et al",
    location: "Cianjur District",
    icon: "FaRecycle",
  },
];
---

<article class="mx-auto max-w-6xl px-6 py-12">
  <header class="mb-12 text-center">
    <h1 class="font-lexend text-4xl font-bold">Our Experience</h1>
    <p class="text-lg font-light text-gray-600 dark:text-gray-300">
      Last 10 Years
    </p>
  </header>

  <section class="relative">
    <!-- Curved SVG path connecting the timeline -->
    <svg
      class="absolute top-0 left-1/2 h-full w-full -translate-x-1/2"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M50 0 Q150 100 50 200 T50 400 T50 600 T50 800"
        stroke="currentColor"
        stroke-width="2"
        fill="transparent"
        class="text-gray-300 dark:text-gray-600"></path>
      {
        experiences.map((_, index) => (
          <circle cx="50" cy={index * 200} r="6" class="fill-primary" />
        ))
      }
    </svg>

    {
      experiences.map((exp, index) => (
        <div
          class={`relative mb-16 flex w-full ${index % 2 === 0 ? "justify-start" : "justify-end"}`}
          style={{ top: `${index * 200}px` }}
        >
          <div class="w-full md:w-1/2">
            <div class="relative rounded-xl border bg-white p-6 shadow-md dark:bg-gray-800">
              <span class="bg-primary absolute -top-4 left-1/2 flex -translate-x-1/2 transform items-center justify-center rounded-full p-2 text-white">
                <DynamicIcon icon={exp.icon} className="h-5 w-5" />
              </span>
              <span class="text-primary mb-1 block text-sm font-semibold">
                {exp.year}
              </span>
              <h2 class="mb-2 text-xl font-semibold">{exp.title}</h2>
              <p class="text-sm text-gray-700 dark:text-gray-300">
                {exp.authors}
              </p>
              {exp.location && (
                <p class="text-sm text-gray-500 italic dark:text-gray-400">
                  {exp.location}
                </p>
              )}
            </div>
          </div>
        </div>
      ))
    }
  </section>
</article>
