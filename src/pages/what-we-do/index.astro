---
import Main from "@/layouts/Main.astro";
import PageHeader from "@/components/blocks/PageHeader.astro";
import Button from "@/components/ui-astro/Button.astro";
import ProgramCard from "@/components/blocks/ProgramCard.astro";
import Social from "@/components/blocks/Social.astro";
import SideBar2 from "@/components/SideBar2.astro";

// --- ADDED: Import the new component ---
import TableOfContents from "@/components/blocks/TableOfContents.astro";

// --- Static Page Data ---
const content = {
  title: "What We Do",
  meta_title: "Explore Our Programmes & Get In Touch",
  description:
    "We offer a variety of programmes to help you achieve your goals. Contact us for more information.",
};

// --- New Categorized Programmes Data with Icons ---
const programmeCategories = [
  {
    category: "Research",
    description:
      "At CHAMPS, research is at the core of our mission to strengthen health systems, policies, and services. We generate evidence-based insights that guide governments, healthcare institutions, and communities in making informed decisions.",
    picture: "/images/research.jpg",
    programmes: [
      {
        title: "Health Policy & Governance",
        description:
          "Services include policy analysis, review, and health programme evaluation.",
        icon: "FaScaleBalanced",
      },
      {
        title: "Healthcare Administration & Management",
        description:
          "Services include hospital master plan development, feasibility studies, and business planning.",
        icon: "FaHospital",
      },
      {
        title: "Health Financing & Economics",
        description:
          "Expertise in tariff/unit cost studies and patient ability/willingness-to-pay research.",
        icon: "FaHandHoldingDollar",
      },
      {
        title: "Quality & Ethics in Healthcare",
        description:
          "Providing research ethics advisory and excellent service assessments.",
        icon: "FaShieldHalved",
      },
    ],
  },
  {
    category: "Capacity Building & Training",
    description:
      "CHAMPS develops comprehensive training programs that strengthen the skills of government officials, healthcare providers, and health leaders, equipping them to address todayâ€™s complex health challenges.",
    programmes: [
      {
        title: "Policy & Governance Excellence",
        description:
          "Training to craft stronger health policies, measure impact, and build advocacy skills.",
        icon: "FaChalkboardUser",
      },
      {
        title: "Leadership & Strategic Growth",
        description:
          "Training in Global Health Leadership, future-ready strategies, and scientific writing.",
        icon: "FaUsers",
      },
      {
        title: "Healthcare & Hospital Management",
        description:
          "Courses on optimizing primary care, hospital operations, data management, and lean methods.",
        icon: "IoBed",
      },
    ],
  },
  {
    category: "Consultation & Technical Assistance",
    description:
      "CHAMPS provides expert guidance to governments, health institutions, and hospitals in designing and implementing effective health systems, strategies, and programs.",
    programmes: [
      {
        title: "Policy Analysis & Advocacy",
        description:
          "Assistance with health policy analysis, regulation impact analysis, and policy influence.",
        icon: "FaMagnifyingGlass",
      },
      {
        title: "Strategic Planning",
        description:
          "Guidance for health organizations and hospitals to develop robust strategic plans.",
        icon: "FaCheckDouble",
      },
      {
        title: "Quality, Risk & Safety Management",
        description:
          "Implementing systems to advance quality standards and patient safety in institutions.",
        icon: "FaLifeRing",
      },
      {
        title: "Frontline Leadership & Lean Management",
        description:
          "Transforming service delivery through frontline leadership skills and patient-centered care.",
        icon: "FaHandshakeAngle",
      },
    ],
  },
  {
    category: "Strategic Advisory Services",
    description:
      "CHAMPS provides high-level advisory support to strengthen leadership capacity and guide the long-term growth of health organizations.",
    programmes: [
      {
        title: "Strategic Plan Development",
        description:
          "Develop a clear, evidence-based roadmap to achieve measurable growth and sustainability.",
        icon: "FaCompass",
      },
      {
        title: "Leadership & Learning Organization Development",
        description:
          "Evolve your organization into an agile, learning-driven institution ready for a changing health landscape.",
        icon: "FaBrain",
      },
    ],
  },
];
---

<Main content={content} makara>
  <section class="mx-auto grid max-w-7xl grid-cols-7 gap-6 p-2 pb-24">
    <SideBar2 className="col-span-7 lg:col-span-1" />
    <article
      class="prose dark:prose-invert col-span-7 min-w-full px-8 text-justify font-light lg:col-span-5"
    >
      <h1
        class="font-lexend text-primary mt-8 mb-6 w-fit scroll-mt-24 text-6xl font-semibold"
      >
        What We Do
      </h1>
      <section
        id="programmes"
        class="not-prose grid grid-cols-1 gap-4 space-y-12"
      >
        {
          programmeCategories.map((category) => (
            <article
              class="bg-background rounded-xl border p-6 shadow-xl"
              id={`category-${category.category}`}
            >
              <h2 class="text-primary mb-2 border-b pb-2 text-center text-2xl font-bold">
                {category.category}
              </h2>
              <p class="text-muted-foreground mb-6">{category.description}</p>
              <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
                {category.programmes.map((program) => (
                  <ProgramCard data={program} />
                ))}
              </div>
            </article>
          ))
        }
      </section>
    </article>
    <TableOfContents programmes={programmeCategories} className="col-span-1" />
  </section>
</Main>
